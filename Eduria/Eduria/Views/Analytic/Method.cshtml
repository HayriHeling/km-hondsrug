@model Tuple<IEnumerable<AnalyticHasDefaultModel>, IEnumerable<AnalyticDefaultModel>>

@{
    ViewData["Title"] = "Werkwijze";
}

@if (Model.Item1.Count() != 0)
{
    @foreach (var item in Model.Item1)
    {
        <p>@item.AnalyticDefaultId</p>
        <p>@item.AnalyticDefaultName</p>
        <p>@item.Score</p>
    }
}
else
{
    @foreach (var item in Model.Item2)
    {
        <p><input type=checkbox id="@item.AnalyticDefaultId" onclick="getMethods(@item.AnalyticDefaultId)" />@item.AnalyticDefaultName</p>
    }

    <hr />
    <button type="submit" onclick="submitMethodArray()">Toevoegen</button>

}

<div id="inputMethod" style="background: blue"></div>

<script src="https://ajax.googleapis.com/ajax/libs/jquery/1.9.1/jquery.min.js"></script>
<script>
    var methodArray = [];

    function addTextBox(id) {
        var textbox = document.createElement("INPUT");
        textbox.setAttribute("type", "text");
        textbox.id = id
        document.getElementById('inputMethod').appendChild(textbox);
    }


    function getMethods(id) {
        if (id == 4) {
            addTextBox(4);
        }

        if (!methodArray.includes(id)) {
            methodArray.push(id);
        }
        else {
            methodArray.pop(id);
        }
        console.log(methodArray);
    }

    function submitMethodArray() {
        $.ajax({
            type: "POST",
            traditional: true,
            url: "/Analytic/AddMethod",
            data: { methodParam: methodArray }
        });
    }
</script>

